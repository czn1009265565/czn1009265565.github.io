# 分库分表理论篇

## 分表分库带来的问题

1. 分布式事务问题 分布式事务中间件

2. 跨节点关联查询 
	
	1. 字段冗余
	2. 内存数据组装

3. 跨节点分页、排序、函数问题

	跨节点多库进行查询时，会出现Limit分页、Order by排序等问题。分页需要按照指定字段进行排序，当排序字段就是分片字段时，通过分片规则就比较容易定位到指定的分片；

	当排序字段非分片字段时，就变得比较复杂了。需要先在不同的分片节点中将数据进行排序并返回，然后将不同分片返回的结果集进行汇总和再次排序，最终返回给用户。

4. 全局主键避重问题  雪花算法