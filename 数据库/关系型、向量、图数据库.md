# 关系型、向量、图数据库

## 关系型数据库
这是最古老、最成熟、应用最广泛的数据库类型。

核心概念：以表的形式存储数据，每个表有固定的模式。通过行和列来组织数据，关系通过外键在两个表之间建立
查询语言：SQL
优势：
- ACID事务保证：强一致性，是金融、交易等关键业务的基石
- 成熟稳定：有几十年的发展历史，生态完善，工具链齐全，社区强大
- 标准化：SQL是标准语言，学习和使用成本相对较低
- 强大的关联查询：对于结构化的、预先定义好的关联查询（如一对一，一对多）非常高效

劣势：
- 模式不灵活：表结构一旦确定，后期修改成本高。不适合存储半结构化和非结构化数据
- 复杂关系查询性能差：对于“多对多”的深度查询（如“朋友的朋友的朋友”），需要大量的JOIN操作，性能会随着关联深度的增加而急剧下降（指数级爆炸）
- 水平扩展困难：传统关系型数据库的分布式方案（分库分表）非常复杂，通常会牺牲一致性或事务能力

典型应用场景：
- 企业核心业务系统（ERP, CRM）
- 金融交易系统（银行、支付）
- 内容管理系统（CMS）

代表产品：MySQL, PostgreSQL, Oracle, SQL Server

## 向量数据库

专门为处理由AI模型生成的高维向量并进行相似性搜索而设计。

核心概念：将非结构化数据（文本、图片、音频）通过AI模型转换为高维向量（一组数字，即嵌入向量）。核心操作是近似最近邻搜索，寻找语义上最相似的向量
查询语言：通常提供专用的SDK/API，部分支持SQL扩展

优势：
- 强大的相似性搜索能力：能够以毫秒级速度在数十亿向量中找出最相似的结果，这是传统数据库无法做到的
- 解锁非结构化数据价值：使计算机能够“理解”图片、文本、视频的语义
- 高可扩展性：通常设计为分布式架构，易于水平扩展

劣势：
- 不擅长精确查询：不适合根据精确ID或条件进行查询（如WHERE id = 123），这需要与标量过滤结合使用
- 数据一致性模型相对宽松：多为最终一致性，牺牲强一致性以换取性能和可用性
- 新兴技术：市场仍在发展中，标准和最佳实践仍在演进

典型应用场景：
- AI问答：将问题向量化，在海量知识库中搜索最相关的答案
- 以图搜图/以文搜文：基于内容的推荐和检索
- 异常检测：通过寻找与正常模式差异过大的向量来发现异常

代表产品：Qdrant, Pinecone, Milvus, Weaviate

## 图数据库

专门为处理和查询数据点之间的关系而设计。

核心概念：使用图结构进行存储和查询。基本元素是节点（实体）、边（关系）和属性。关系是一等公民
查询语言：Cypher（Neo4j）, Gremlin, nGQL（Nebula Graph）

优势：
- 高效处理复杂关系：对于深度链接查询（如路径查找、社区发现）性能极高。查询速度与整个数据库规模无关，只与遍历的局部图大小有关
- 敏捷的数据模型：非常贴合现实世界，可以轻松应对业务模型的变化
- 强大的洞察力：内置丰富的图算法（如最短路径、PageRank），用于挖掘深层关联

劣势：
- 不适合大规模分析：对于需要全表扫描的批量分析（如计算所有用户的平均年龄）不如关系型数据库
- 生态系统相对年轻：相比关系型数据库，工具链和社区规模较小
- 学习曲线：需要学习新的查询语言和图论思维

典型应用场景：
- 社交网络：好友推荐、影响力分析。
- 金融风控：实时欺诈检测、洗钱网络分析。
- 知识图谱：智能问答、语义搜索。
- IT运维：网络依赖关系分析、影响传播分析

代表产品：Neo4j, Nebula Graph, Amazon Neptune, JanusGraph


## 应用选择

一个复杂的现代应用（如智能社交电商平台）可能会同时使用这三种数据库：

1. 关系型数据库（MySQL/PostgreSQL）  
   存储：用户账户信息、商品SKU、订单、支付记录。这些需要严格的ACID事务保证。（处理“是什么”）
2. 图数据库（Neo4j/Nebula Graph）  
   存储：用户之间的关注关系、商品之间的品类关系。用于实现“好友也在买”、“购买此商品的人还买了”等基于关系的推荐。（处理“如何连接”）
3. 向量数据库（Milvus/Pinecone）  
   存储：商品图片的特征向量、商品描述文本的嵌入向量。用于实现“以图搜图”、“搜索描述模糊的商品”（语义搜索）。（处理“有多相似”）
