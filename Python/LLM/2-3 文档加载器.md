# 文档加载器

文档加载器负责从不同数据源（本地文件、网络、数据库等）读取数据（文本、PDF、Word、Excel、网页等），并将其转换为 LangChain 的标准 Document 对象。
每个 Document 包含: 

- page_content：文本内容（核心数据）
- metadata：元数据（如来源、作者、创建时间等）

## TextLoader
文本文件加载器，支持读取纯文本文件

```python
from langchain.document_loaders import TextLoader

text_path = "./example.txt"
text_loader = TextLoader(file_path=text_path, encoding="utf-8")
text_documents = text_loader.load()
```

## CSVLoader

解析CSV文件，可指定列作为文本内容

```python
from langchain.document_loaders import CSVLoader

csv_path = "./example.csv"
csv_loader = CSVLoader(csv_path, source_column="Location")
csv_documents = csv_loader.load()
```

- file_path	CSV 文件的路径（本地路径或 URL）
- source_column	指定某一列作为文档的 source 元数据（用于标识来源）。未设置时默认使用文件路径
- metadata_columns	将指定列的内容提取为文档的元数据（如日期、作者等），每列成为一个独立的元数据字段
- csv_args	传递给底层 CSV 解析器（如 csv.reader 或 pandas）的参数，用于自定义解析行为
- encoding	文件编码格式，常见如 "utf-8", "gbk"
- autodetect_encoding	是否自动检测文件编码（需安装 chardet 库）

## DirectoryLoader
批量文件加载器，用于自动加载指定目录下的多个文件，支持文件过滤和递归搜索

若需要支持加载Excel文件则需要安装依赖库 `pip install "unstructured[xlsx]"`

```python
from langchain.document_loaders import DirectoryLoader

#目录下的.html和.rst文件不会被这种loader加载
#loader = DirectoryLoader("目录地址",glob="指定加载说明格式的文件")
loader = DirectoryLoader(path="./example/",glob="*.xlsx")
docs = loader.load()
```


## BSHTMLLoader

```python
from langchain.document_loaders import BSHTMLLoader
loader = BSHTMLLoader("loader.html")
data = loader.load()
```

## JSONLoader

`pip install jq`

```python
from langchain.document_loaders import JSONLoader
loader = JSONLoader(
    file_path = "simple_prompt.json",jq_schema=".template",text_content=True
)
data = loader.load()
print(data)
```

## PyPDFLoader
用于加载和解析 PDF 文档

`pip install pypdf`

```python
from langchain.document_loaders import PyPDFLoader

pdf_path =  "./example.pdf"
pdf_loader = PyPDFLoader(file_path=pdf_path)
pdf_documents = pdf_loader.load()
```
