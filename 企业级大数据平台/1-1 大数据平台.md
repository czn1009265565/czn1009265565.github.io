# 大数据平台

## 数据仓库概念

数据仓库是将多个数据源经过ETL处理之后，按照一定**主题**集成起来提供决策支持和联机分析应用的结构化数据环境。

### 数据源

- 用户行为数据: 用户在使用产品过程中，通过埋点收集与客户端产品交互过程中产生的数据，并发往日志服务器进行保存。比如页面浏览、点击、停留、评论、点赞、收藏等。用户行为数据通常存储在日志文件中
- 业务数据: 各行业在处理事务过程中产生的数据，例如订单数据等
- 爬虫数据: 通常是通过技术手段获取其他公司网站的数据

#### 用户行为数据

用户行为日志的内容，主要包括用户的各项行为信息以及行为所处的环境信息。
收集这些信息的主要目的是优化产品和为各项分析统计指标提供数据支撑。
数据通常包括页面浏览记录、动作记录、曝光记录、启动记录和错误记录等。
收集这些信息的手段称为埋点。

- 代码埋点是通过调用埋点SDK函数，在需要埋点的业务逻辑功能位置调用接口，上报埋点数据。
- 可视化埋点只需要研发人员集成采集
  SDK，不需要写埋点代码，业务人员就可以通过访问分析平台的“圈选”功能，来“圈”出需要对用户行为进行捕捉的控件，并对该事件进行命名。圈选完毕后，这些配置会同步到各个用户的终端上，由采集
  SDK 按照圈选的配置自动进行用户行为数据的采集和发送。
- 全埋点是通过在产品中嵌入SDK，前端自动采集页面上的全部用户行为事件，上报埋点数据，相当于做了一个统一的埋点。然后再通过界面配置哪些数据需要在系统里面进行分析。

### 技术选型

- 数据采集: Flume、Kafka、Kettle、DataX、Maxwell、Sqoop
- 数据存储: MySQL、HDFS、Hbase、Redis、Mongodb
- 数据计算: Hive、Spark、Flink、Storm、Tez
- 数据查询: Presto、Kylin、Impala、Druid、ClickHouse、Doris
- 数据可视化: Superset
- 任务调度: DolphinScheduler、Azkaban、Airflow
- 集群监控: Zabbix、Prometheus
- 元数据管理: Atlas
- 权限管理: Ranger

### 框架版本

| 框架               | 版本     |
|------------------|--------|
| Hadoop           | 3.3.4  |
| Hive             | 3.1.3  |
| Hbase            | 2.4.11 |
| Zookeeper        | 3.7.1  |
| Kafka            | 3.3.1  |
| Flume            | 1.10.1 |
| Spark            | 3.3.1  |
| MySQL            | 8.0.31 |
| DolphinScheduler | 2.0.5  |
| Superset         | 2.0.0  |

